webpackJsonp([1],{"+sAK":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App",mounted:function(){this.$store.dispatch("authenticate")}},i,!1,function(t){a("+sAK")},null,null).exports,n=a("/ocq"),l={name:"Home",data:function(){return{register:{username:"",email:"",password:""},login:{email:"",password:""},keep:{name:"",description:"",address:"",userId:"",shareable:0,views:0,keeps:0},pSetting:"Private",home:!0,profile:!1,show:0,viewKeep:{},vault:{name:"",description:""},selected:"",vaultkeep:{vaultId:"",keepId:"",userId:""},profileView:0,viewvaults:!0,vaultname:""}},mounted:function(){this.$store.dispatch("getKeeps")},computed:{user:function(){return this.$store.state.user},keeps:function(){return this.$store.state.keeps},vaults:function(){return this.$store.state.vaults},vaultkeeps:function(){return this.$store.state.vaultkeeps}},watch:{user:function(){this.$store.dispatch("getVaults",this.user.id)}},methods:{userLogin:function(){this.$store.dispatch("login",this.login)},userRegister:function(){this.$store.dispatch("register",this.register)},logout:function(){this.home=!0,this.profile=!1,this.$store.dispatch("logout")},addKeep:function(){this.keep.userId=this.user.id,this.keep.shareable=this.show,this.$store.dispatch("createKeep",this.keep),this.pSetting="Public"},toggleSetting:function(){"Public"==this.pSetting?(this.pSetting="Private",this.show=1):(this.pSetting="Public",this.show=0)},deleteKeep:function(t){this.$store.dispatch("deleteKeep",t.id)},editKeep:function(t){t.shareable=this.show,console.log(t),this.$store.dispatch("editKeep",t),this.pSetting="Private"},setViewKeep:function(t){t.views++,t.shareable=t.shareable?1:0,this.$store.dispatch("editKeep",t),this.viewKeep=t,$("#viewKeepModal").modal("show")},addVault:function(){this.vault.userId=this.user.id,this.$store.dispatch("addVault",this.vault)},deleteVault:function(t){this.$store.dispatch("deleteVault",t.id)},addToVault:function(t){t.keeps++,this.$store.dispatch("editKeep",t),this.vaultkeep.vaultId=this.selected,this.vaultkeep.keepId=t.id,this.vaultkeep.userId=this.user.id,this.$store.dispatch("addToVaultKeep",this.vaultkeep),this.selected=""},getVaultKeeps:function(t){this.$store.dispatch("getVaultKeeps",t)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[a("nav",{staticClass:"navbar navbar-dark bg-dark"},[a("h2",{staticClass:"navbar-heading"},[t._v("KEEPR")]),t._v(" "),a("div",[t.user.username?t._e():a("div",[a("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#registerModal"}},[t._v("Register")]),t._v(" "),a("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login")])]),t._v(" "),t.user.username?a("div",[a("h3",[t._v("Hello "+t._s(t.user.username))]),t._v(" "),a("button",{staticClass:"btn btn-outline-info",on:{click:t.logout}},[t._v("Logout")]),t._v(" "),t.home?a("button",{staticClass:"btn btn-outline-info",on:{click:function(e){t.home=!1,t.profile=!0}}},[t._v("My Profile")]):t._e(),t._v(" "),t.profile?a("button",{staticClass:"btn btn-outline-info",on:{click:function(e){t.home=!0,t.profile=!1}}},[t._v("Home")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#addKeepModal"}},[t._v("+")])]):t._e()])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"registerModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.username,expression:"register.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"formGroupExampleInput",placeholder:"Username",required:""},domProps:{value:t.register.username},on:{input:function(e){e.target.composing||t.$set(t.register,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"email",autocomplete:"email"},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.password,expression:"register.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.register.password},on:{input:function(e){e.target.composing||t.$set(t.register,"password",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submits","data-dismiss":"modal"},on:{click:t.userRegister}},[t._v("Register")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"Email",autocomplete:"email",required:""},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.userLogin}},[t._v("Login")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addKeepModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addKeep(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.name,expression:"keep.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"formGroupExampleInput",placeholder:"Title",required:""},domProps:{value:t.keep.name},on:{input:function(e){e.target.composing||t.$set(t.keep,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.description,expression:"keep.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"formGroupExampleInput",placeholder:"Description"},domProps:{value:t.keep.description},on:{input:function(e){e.target.composing||t.$set(t.keep,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keep.address,expression:"keep.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"formGroupExampleInput",placeholder:"Img Address",required:""},domProps:{value:t.keep.address},on:{input:function(e){e.target.composing||t.$set(t.keep,"address",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"btn-group-toggle",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-secondary active",attrs:{for:"checkbox"},on:{click:t.toggleSetting}},[a("input",{attrs:{type:"checkbox",id:"checkbox",checked:"",autocomplete:"off"}}),t._v(" "+t._s(t.pSetting)+"\n              ")])])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.addKeep}},[t._v("Submit")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"viewKeepModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v(t._s(t.viewKeep.name))]),t._v(" "),t._m(3)]),t._v(" "),a("div",{staticClass:"modal-body text-center"},[a("img",{attrs:{src:t.viewKeep.address,alt:"viewKeep.description"}}),t._v(" "),a("p",[t._v(t._s(t.viewKeep.description))]),t._v(" "),a("p",[t._v("Views: "+t._s(t.viewKeep.views))]),t._v(" "),a("p",[t._v("Keeps: "+t._s(t.viewKeep.keeps))]),t._v(" "),1==t.viewKeep.shareable||t.viewKeep.userId==t.user.id?a("div",[t.viewKeep.userId==t.user.id?a("button",{staticClass:"btn btn-outline-warning",attrs:{"data-dismiss":"modal"},on:{click:function(e){t.deleteKeep(t.viewKeep)}}},[t._v("X")]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"modal-footer d-flex justify-content-around"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("form",{on:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"form-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Select Vault")]),t._v(" "),t._l(t.vaults,function(e){return a("option",{domProps:{value:e.id}},[t._v(t._s(e.name))])})],2)])]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){t.addToVault(t.viewKeep)}}},[t._v("Save to Vault")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"addVaultModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.addVault(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.name,expression:"vault.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"formGroupExampleInput",placeholder:"Title",required:""},domProps:{value:t.vault.name},on:{input:function(e){e.target.composing||t.$set(t.vault,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.vault.description,expression:"vault.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"formGroupExampleInput",placeholder:"Description"},domProps:{value:t.vault.description},on:{input:function(e){e.target.composing||t.$set(t.vault,"description",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.addVault}},[t._v("Submit")])])])])]),t._v(" "),t.home?a("div",{staticClass:"row d-flex justify-content-around pt-3"},t._l(t.keeps,function(e){return e.shareable?t._e():a("div",{staticClass:"keep"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("img",{staticClass:"keep-img",attrs:{src:e.address,alt:""}}),t._v(" "),a("div",{staticClass:"place-btn text-center"},[a("button",{staticClass:"btn btn-outline-warning btn-view",on:{click:function(a){t.setViewKeep(e)}}},[t._v("View")]),t._v(" "),a("div",{staticClass:"dropdown place-btn-dropdown"},[a("button",{staticClass:"btn btn-outline-warning dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n            Add To Vault\n          ")]),t._v(" "),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.vaults,function(s){return a("button",{staticClass:"dropdown-item",on:{click:function(a){t.addToVault(e),t.selected=s.id}}},[t._v(t._s(s.name))])}))])])])})):t._e(),t._v(" "),t.profile?a("div",{staticClass:"row text-center"},[a("div",{staticClass:"col-12 mt-2 justify-content-around"},[a("button",{staticClass:"btn btn-outline-success",attrs:{"data-toggle":"modal","data-target":"#addVaultModal"}},[t._v("Create Vault")]),t._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){t.profileView=0}}},[t._v("My Vaults")]),t._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){t.profileView=1}}},[t._v("My Keeps")]),t._v(" "),a("hr")]),t._v(" "),0==t.profileView?a("div",{staticClass:"col"},[t.viewvaults?a("h3",[t._v("Your Vaults")]):t._e(),t._v(" "),t._l(t.vaults,function(e){return t.viewvaults?a("div",{staticClass:"vault d-flex flex-row justify-content-around",on:{click:function(a){t.getVaultKeeps(e.id),t.viewvaults=!1,t.vaultname=e.name}}},[a("h4",[t._v(t._s(e.name))]),t._v(" "),a("button",{staticClass:"btn btn-outline-danger",on:{click:function(a){t.deleteVault(e)}}},[t._v("X")])]):t._e()}),t._v(" "),t.viewvaults?t._e():a("div",[t._v("\n        "+t._s(t.vaultname)+"\n        "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(e){t.viewvaults=!0,t.vaultname=""}}},[t._v("Back")])]),t._v(" "),t._l(t.vaultkeeps,function(e){return t.viewvaults?t._e():a("div",{staticClass:"keep"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("img",{staticClass:"keep-img",attrs:{src:e.address,alt:""}}),t._v(" "),a("div",{staticClass:"place-btn text-center"},[a("button",{staticClass:"btn btn-outline-warning btn-view",on:{click:function(a){t.setViewKeep(e)}}},[t._v("View")]),t._v(" "),e.shareable?a("div",{staticClass:"btn-group-toggle",attrs:{"data-toggle":"buttons"}},[a("label",{staticClass:"btn btn-secondary active",attrs:{for:"checkbox"},on:{click:t.toggleSetting}},[a("input",{attrs:{type:"checkbox",id:"checkbox",checked:"",autocomplete:"off"}}),t._v(" "+t._s(t.pSetting)+"\n            ")]),t._v(" "),a("button",{staticClass:"btn btn-outline-success",on:{click:function(a){t.editKeep(e)}}},[t._v("Submit")])]):t._e()])])})],2):t._e(),t._v(" "),1==t.profileView?a("div",{staticClass:"col"},t._l(t.keeps,function(e){return e.userId==t.user.id?a("div",{staticClass:"mt-2 keep"},[a("h3",[t._v(t._s(e.name))]),t._v(" "),a("img",{staticClass:"keep-img",attrs:{src:e.address,alt:""}}),t._v(" "),a("button",{staticClass:"btn btn-outline-warning btn-view",on:{click:function(a){t.setViewKeep(e)}}},[t._v("View")])]):t._e()})):t._e()]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Register")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Login")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Add Keep")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Add Vault")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var d=a("VU/8")(l,r,!1,function(t){a("i5S1")},"data-v-f46857ba",null).exports,c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var u=a("VU/8")({name:"Profile",data:function(){return{}}},c,!1,function(t){a("YRI+")},null,null).exports;s.a.use(n.a);var p=new n.a({routes:[{path:"/",name:"Home",component:d},{path:"/Profile",name:"Profile",component:u}]}),v=a("2aIq"),m=a.n(v),f=a("NYxO"),g=a("mtWM"),h=a.n(g),b=!window.location.host.includes("localhost")?"//keepr-dock.herokuapp.com":"//localhost:5000/";s.a.use(f.a);var _=h.a.create({baseURL:b,timeout:3e3,withCredentials:!0}),C=h.a.create({baseURL:b+"account/",timeout:3e3,withCredentials:!0}),w=new f.a.Store({state:{user:{},keeps:{},vaults:{},vaultkeeps:{}},mutations:{setUser:function(t,e){t.user=e},clearUser:function(t,e){t.user=e},setKeeps:function(t,e){t.keeps=e},setVaults:function(t,e){t.vaults=e},setVaultKeeps:function(t,e){t.vaultkeeps=e}},actions:{register:function(t,e){var a=t.commit;C.post("register",e).then(function(t){console.log(t),a("setUser",t.data)}).catch(function(t){console.log(t)})},login:function(t,e){var a=t.commit;C.post("login",e).then(function(t){console.log(t.data),a("setUser",t.data)}).catch(function(t){console.log(t)})},logout:function(t){var e=t.commit;C.delete("logout").then(function(t){e("clearUser",{})}).catch(function(t){console.log(t)})},authenticate:function(t){var e=t.commit;C.get("/authenticate").then(function(t){e("setUser",t.data)}).catch(function(t){console.log(t)})},getKeeps:function(t){var e=t.commit;_.get("keeps").then(function(t){e("setKeeps",t.data)}).catch(function(t){console.log(t)})},createKeep:function(t,e){var a=t.dispatch;_.post("keeps",e).then(function(t){a("getKeeps")}).catch(function(t){console.log(t)})},deleteKeep:function(t,e){var a=t.dispatch;_.delete("keeps/"+e).then(function(t){a("getKeeps")}).catch(function(t){console.log(t)})},editKeep:function(t,e){var a=t.dispatch;_.put("keeps/"+e.id,e).then(function(t){a("getKeeps")}).catch(function(t){console.log(t)})},getVaults:function(t,e){var a=t.commit;_.get("vaults/"+e).then(function(t){a("setVaults",t.data)}).catch(function(t){console.log(t)})},addVault:function(t,e){var a=t.dispatch,s=t.state;_.post("vaults",e).then(function(t){a("getVaults",s.user.id)}).catch(function(t){console.log(t)})},deleteVault:function(t,e){var a=t.dispatch,s=t.state;_.delete("vaults/"+e).then(function(t){a("getVaults",s.user.id)}).catch(function(t){console.log(t)})},getVaultKeeps:function(t,e){var a=t.commit;_.get("vaultkeeps/vk/"+e).then(function(t){a("setVaultKeeps",t.data)}).catch(function(t){console.log(t)})},addToVaultKeep:function(t,e){m()(t),_.post("vaultkeeps",e).then(function(t){console.log(t.data)}).catch(function(t){console.log(t)})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:p,store:w,components:{App:o},template:"<App/>"})},"YRI+":function(t,e){},i5S1:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.169a37b64ef7fe5eb61f.js.map