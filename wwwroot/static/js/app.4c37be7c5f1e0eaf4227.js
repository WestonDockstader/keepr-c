webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},o,!1,function(t){a("z62K")},null,null).exports,r=a("/ocq"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home container-fluid"},[a("nav",{staticClass:"navbar navbar-dark bg-dark"},[a("h2",{staticClass:"navbar-heading"},[t._v("KEEPR")]),t._v(" "),a("div",[t.user.username?t._e():a("div",[a("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#registerModal"}},[t._v("Register")]),t._v(" "),a("button",{staticClass:"btn btn-outline-info",attrs:{"data-toggle":"modal","data-target":"#loginModal"}},[t._v("Login")])]),t._v(" "),t.user.username?a("div",[a("h3",[t._v("Hello "+t._s(t.user.username))]),t._v(" "),a("button",{staticClass:"btn btn-outline-info",on:{click:t.logout}},[t._v("Logout")]),t._v(" "),a("button",{staticClass:"btn btn-outline-info",on:{click:function(t){}}},[t._v("My Profile")])]):t._e()])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"registerModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.username,expression:"register.username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"formGroupExampleInput",placeholder:"Username",required:""},domProps:{value:t.register.username},on:{input:function(e){e.target.composing||t.$set(t.register,"username",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.email,expression:"register.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"email",autocomplete:"email"},domProps:{value:t.register.email},on:{input:function(e){e.target.composing||t.$set(t.register,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.register.password,expression:"register.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.register.password},on:{input:function(e){e.target.composing||t.$set(t.register,"password",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submits","data-dismiss":"modal"},on:{click:t.userRegister}},[t._v("Register")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin(e)}}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"text",name:"email",id:"formGroupExampleInput",placeholder:"Email",autocomplete:"email",required:""},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"formGroupExampleInput",placeholder:"Password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})])])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-dismiss":"modal"},on:{click:t.userLogin}},[t._v("Login")])])])])]),t._v(" "),a("div",{staticClass:"row"},[a("ol",t._l(t.keeps,function(e){return a("li",[t._v("\n        "+t._s(e.name)+"\n      ")])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Register")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("Login")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var l=a("VU/8")({name:"Home",data:function(){return{register:{username:"",email:"",password:""},login:{email:"",password:""}}},mounted:function(){this.$store.dispatch("getKeeps")},computed:{user:function(){return this.$store.state.user},keeps:function(){return this.$store.state.keeps}},methods:{userLogin:function(){this.$store.dispatch("login",this.login)},userRegister:function(){this.$store.dispatch("register",this.register)},logout:function(){this.$store.dispatch("logout")}}},n,!1,function(t){a("oCGi")},"data-v-679cab4b",null).exports;s.a.use(r.a);var d=new r.a({routes:[{path:"/",name:"Home",component:l}]}),u=a("NYxO"),c=a("mtWM"),m=a.n(c),p=!window.location.host.includes("localhost")?"heroku address":"//localhost:5000/";s.a.use(u.a);var v=m.a.create({baseURL:p,timeout:3e3,withCredentials:!0}),g=m.a.create({baseURL:p+"account/",timeout:3e3,withCredentials:!0}),f=new u.a.Store({state:{user:{},keeps:{}},mutations:{setUser:function(t,e){t.user=e},clearUser:function(t,e){t.user=e},setKeeps:function(t,e){t.keeps=e}},actions:{register:function(t,e){var a=t.commit;console.log(e),g.post("register",e).then(function(t){console.log(t),a("setUser",t.data)}).catch(function(t){console.log(t)})},login:function(t,e){var a=t.commit;console.log(e),g.post("login",e).then(function(t){console.log(t.data),a("setUser",t.data)}).catch(function(t){console.log(t)})},logout:function(t){var e=t.commit;g.delete("logout").then(function(t){e("clearUser",{})}).catch(function(t){console.log(t)})},getKeeps:function(t){var e=t.commit;v.get("keeps").then(function(t){console.log("keeps",t.data),e("setKeeps",t.data)})}}});s.a.config.productionTip=!1,new s.a({el:"#app",router:d,store:f,components:{App:i},template:"<App/>"})},oCGi:function(t,e){},z62K:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4c37be7c5f1e0eaf4227.js.map